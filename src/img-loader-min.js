function ImageLoader(e){"use strict";this.async=e.async||!0,this.images={load:e.images,loaded:[]},this.callback=e.oncomplete||!1,this.onimageloaded=e.onimageloaded||!1,this.once="string"==typeof this.images.load,this.done=this.once?this.finish:this.complete,this.haslistener=window.addEventListener}ImageLoader.prototype.load=function(e,t){var i=this,a=new Image;this.haslistener?a.addEventListener("load",function(e){i.loaded(t,this,e)}):a.attachEvent("onload",function(e){i.loaded(t,this,e)}),a.src=e},ImageLoader.prototype.loaded=function(e,t,i){!this.once&&this.onimageloaded&&this.onimageloaded({index:e,image:t}),this.images.loaded.push(t),this.done()},ImageLoader.prototype.check=function(){return this.images.loaded.length<this.images.load.length},ImageLoader.prototype.complete=function(){this.check()?this.async||this.load(this.images.load[this.images.loaded.length],this.images.loaded.length):this.finish()},ImageLoader.prototype.all=function(){for(var e in this.images.load)this.load(this.images.load[e],e)},ImageLoader.prototype.finish=function(){this.callback&&this.callback(this.images.loaded)},ImageLoader.prototype.start=function(){this.once?this.load(this.images.load,0):this.async?this.all():this.done()};