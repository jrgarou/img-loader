function ImgLoader(t){"use strict";this.async=t.async||!0,this.images={load:t.images,loaded:[]},this.callback=t.oncomplete||!1,this.onimageloaded=t.onimageloaded||!1,this.once="string"==typeof this.images.load,this.done=this.once?this.finish:this.complete,this.haslistener=window.addEventListener,console.log(this)}ImgLoader.prototype.load=function(t,e){var i=this,o=new Image;this.haslistener?o.addEventListener("load",function(t){i.loaded(e,this,t)}):o.attachEvent("onload",function(t){i.loaded(e,this,t)}),o.src=t},ImgLoader.prototype.loaded=function(t,e,i){!this.once&&this.onimageloaded&&this.onimageloaded({index:t,image:e}),this.images.loaded.push(e),this.done()},ImgLoader.prototype.check=function(){return this.images.loaded.length<this.images.load.length},ImgLoader.prototype.complete=function(){this.check()?(console.log(this.images.loaded.length),this.async||this.load(this.images.load[this.images.loaded.length],this.images.loaded.length)):this.finish()},ImgLoader.prototype.all=function(){for(var t in this.images.load)this.load(this.images.load[t],t)},ImgLoader.prototype.finish=function(){this.callback&&this.callback(this.images.loaded)},ImgLoader.prototype.start=function(){this.once?this.load(this.images.load,0):this.async?this.all():this.done()};