function ImgLoader(t){"use strict";this.async=t.async,this.images={load:t.images,loaded:[]},this.callback=t.oncomplete||!1,this.onimageloaded=t.onimageloaded||!1,this.once="string"==typeof this.images.load,this.done=this.once?this.finish:this.complete,this.haslistener=window.addEventListener}ImgLoader.prototype.load=function(t,i){var e=this,o=new Image;this.haslistener?o.addEventListener("load",function(t){e.loaded(i,this,t)}):o.attachEvent("onload",function(t){e.loaded(i,this,t)}),o.src=t},ImgLoader.prototype.loaded=function(t,i,e){!this.once&&this.onimageloaded&&this.onimageloaded({index:t,image:i}),this.images.loaded.push(i),this.done()},ImgLoader.prototype.check=function(){return this.images.loaded.length<this.images.load.length},ImgLoader.prototype.complete=function(){this.check()?this.async||this.load(this.images.load[this.images.loaded.length],this.images.loaded.length):this.finish()},ImgLoader.prototype.all=function(){for(var t in this.images.load)this.load(this.images.load[t],t)},ImgLoader.prototype.finish=function(){this.callback&&this.callback(this.images.loaded)},ImgLoader.prototype.start=function(){this.once?this.load(this.images.load,0):this.async?this.all():this.done()};